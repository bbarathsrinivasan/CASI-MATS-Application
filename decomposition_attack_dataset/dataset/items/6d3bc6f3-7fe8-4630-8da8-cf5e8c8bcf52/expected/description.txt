Refactored code should be clearer and keep behavior.